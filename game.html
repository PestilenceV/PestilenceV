<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã - –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <div class="player-info">
                <div class="player-name" id="playerNameDisplay">–ò–≥—Ä–æ–∫</div>
                <div class="level-indicator">–£—Ä–æ–≤–µ–Ω—å: <span id="currentLevel">1</span></div>
            </div>
            
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">–í—Ä–µ–º—è</div>
                    <div class="stat-value" id="timer">05:00</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–ë–∞–ª–ª—ã</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–ü–æ–ø—ã—Ç–∫–∏</div>
                    <div class="stat-value" id="attempts">3</div>
                </div>
            </div>
            
            <div class="game-controls">
                <button id="pauseBtn" class="control-btn" title="–ü–∞—É–∑–∞">
                    ‚è∏Ô∏è
                </button>
            </div>
        </header>

        <main class="game-main">
            <div class="elements-panel" id="elementsPanel" style="display: none;">
                <h3>üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</h3>
                <div class="elements-grid" id="elementsGrid"></div>
            </div>

            <div class="workspace">
                <div class="task-header">
                    <h3 id="taskTitle">–ó–∞–¥–∞–Ω–∏–µ</h3>
                    <div class="task-description" id="taskDescription"></div>
                </div>
                
                <div class="circuit-area" id="circuitArea" style="display: none;">
                    <div class="drop-zone" id="dropZone">
                        <div class="grid-lines"></div>
                    </div>
                </div>
                
                <div class="control-panel">
                    <button id="checkBtn" class="btn-primary">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    <button id="resetBtn" class="btn-secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
                
                <div class="question-panel">
                    <div class="question-text" id="questionText"></div>
                    <div class="identification-area" id="identificationArea" style="display: none;"></div>
                    <div class="formula-area" id="formulaArea" style="display: none;"></div>
                    <div class="feedback" id="feedback"></div>
                </div>
            </div>

            <div class="info-panel">
                <div class="level-info">
                    <h3>üìä –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å</h3>
                    <div class="info-content" id="levelInfo">
                        –£—Ä–æ–≤–µ–Ω—å <span id="currentLevelDisplay">1</span>
                    </div>
                    <div class="question-counter" id="questionCounter">–í–æ–ø—Ä–æ—Å: 1/5</div>
                </div>
                
                <div class="hints-panel" id="hintsPanel" style="display: none;">
                    <h3>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</h3>
                    <div class="hints-list" id="hintsList"></div>
                </div>
                
                <div class="action-panel">
                    <button id="finishGameBtn" class="btn-danger">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É</button>
                </div>
            </div>
        </main>

        <footer class="game-footer">
            <div class="message-area" id="messageArea"></div>
            <div class="debug-buttons">
                <button id="debugSkipTaskBtn" class="debug-btn" title="–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ (Shift+T)">–û—Ç–ª–∞–¥–∫–∞: –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
                <button id="debugSkipLevelBtn" class="debug-btn" title="–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å (Shift+L)">–û—Ç–ª–∞–¥–∫–∞: –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            </div>
        </footer>
    </div>

    <div id="pauseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚è∏Ô∏è –ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ</h2>
            </div>
            <div class="modal-body">
                <div id="pauseInfo"></div>
            </div>
            <div class="modal-footer">
                <button id="resumeBtn" class="btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                <button id="quitToMenuBtn" class="btn-secondary">–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <div id="levelCompleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéâ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
            </div>
            <div class="modal-body">
                <div class="result-item">
                    <span>–ë–∞–ª–ª—ã –∑–∞ —É—Ä–æ–≤–µ–Ω—å:</span>
                    <span id="levelScore">0</span>
                </div>
                <div class="result-item">
                    <span>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:</span>
                    <span id="correctAnswers">0</span>
                </div>
                <div class="result-item">
                    <span>–í—Ä–µ–º—è:</span>
                    <span id="levelTime">00:00</span>
                </div>
            </div>
            <div class="modal-footer">
                <button id="nextLevelBtn" class="btn-primary">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
                <button id="finishGameFromModalBtn" class="btn-danger">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É</button>
            </div>
        </div>
    </div>

    <div id="levelRulesModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="levelRulesTitle">–£—Ä–æ–≤–µ–Ω—å <span id="levelRulesLevel">1</span></h2>
            </div>
            <div class="modal-body">
                <div id="levelRulesText"></div>
            </div>
            <div class="modal-footer">
                <button id="startLevelBtn" class="btn-primary">–ù–∞—á–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å</button>
            </div>
        </div>
    </div>

    <div id="correctAnswerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!</h2>
            </div>
            <div class="modal-body">
                <p>–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –•–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É?</p>
            </div>
            <div class="modal-footer">
                <button id="nextQuestionBtn" class="btn-primary">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
            </div>
        </div>
    </div>

    <div id="wrongAnswerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ</h2>
            </div>
            <div class="modal-body">
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑. –£ –≤–∞—Å –æ—Å—Ç–∞–ª–æ—Å—å <span id="attemptsLeftSpan"></span> –ø–æ–ø—ã—Ç–æ–∫.</p>
            </div>
            <div class="modal-footer">
                <button id="tryAgainBtn" class="btn-primary">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>
    <script src="game.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const game = new ElectricSchemesGame();
            game.init();
        });
    </script>
</body>
</html>