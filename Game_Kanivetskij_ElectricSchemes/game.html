<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Å—Ö–µ–º—ã - –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="game-container">
        <header class="game-header">
            <div class="player-info">
                <div class="player-name" id="playerNameDisplay">–ò–≥—Ä–æ–∫</div>
                <div class="level-indicator">–£—Ä–æ–≤–µ–Ω—å: <span id="currentLevel">1</span></div>
            </div>
            
            <div class="game-stats">
                <div class="stat">
                    <div class="stat-label">–í—Ä–µ–º—è</div>
                    <div class="stat-value" id="timer">05:00</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–ë–∞–ª–ª—ã</div>
                    <div class="stat-value" id="score">0</div>
                </div>
                <div class="stat">
                    <div class="stat-label">–ü–æ–ø—ã—Ç–∫–∏</div>
                    <div class="stat-value" id="attempts">3</div>
                </div>
            </div>
            
            <div class="game-controls">
                <button id="pauseBtn" class="control-btn" title="–ü–∞—É–∑–∞">
                    ‚è∏Ô∏è
                </button>
                <button id="quitBtn" class="control-btn danger" title="–í—ã–π—Ç–∏">
                    üö™
                </button>
            </div>
        </header>

        <main class="game-main">
            <div class="elements-panel">
                <h3>üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã</h3>
                <div class="elements-grid" id="elementsGrid">
                </div>
                
                <div class="formulas-panel">
                    <h3>üìê –§–æ—Ä–º—É–ª—ã</h3>
                    <div class="formulas-list" id="formulasList">
                        <div class="formula-item">
                            <div class="formula-name">–ó–∞–∫–æ–Ω –û–º–∞</div>
                            <div class="formula">I = U / R</div>
                        </div>
                        <div class="formula-item">
                            <div class="formula-name">–ú–æ—â–Ω–æ—Å—Ç—å</div>
                            <div class="formula">P = U √ó I</div>
                        </div>
                        <div class="formula-item">
                            <div class="formula-name">–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</div>
                            <div class="formula">R–æ–±—â = R‚ÇÅ + R‚ÇÇ</div>
                        </div>
                        <div class="formula-item">
                            <div class="formula-name">–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ</div>
                            <div class="formula">1/R–æ–±—â = 1/R‚ÇÅ + 1/R‚ÇÇ</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="workspace">
                <div class="task-header">
                    <h3 id="taskTitle">–ó–∞–¥–∞–Ω–∏–µ</h3>
                    <div class="task-description" id="taskDescription">
                    </div>
                </div>
                
                <div class="circuit-area">
                    <div class="drop-zone" id="dropZone">
                        <div class="grid-lines"></div>
                    </div>
                    <div class="circuit-elements" id="circuitElements"></div>
                </div>
                
                <div class="control-panel">
                    <button id="checkBtn" class="btn-primary">
                        –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                    </button>
                    <button id="resetBtn" class="btn-secondary">
                        –°–±—Ä–æ—Å–∏—Ç—å
                    </button>
                </div>
                
                <div class="question-panel">
                    <div class="question-text" id="questionText">
                    </div>
                    
                    <div class="answer-area" id="answerArea">
                    </div>
                    
                    <div class="feedback" id="feedback"></div>
                </div>
            </div>

            <div class="info-panel">
                <div class="level-info">
                    <h3>üìä –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å</h3>
                    <div class="info-content" id="levelInfo">
                        –£—Ä–æ–≤–µ–Ω—å <span id="currentLevelDisplay">1</span>
                    </div>
                    <div class="question-counter" id="questionCounter">
                        –í–æ–ø—Ä–æ—Å: 1/5
                    </div>
                </div>
                
                <div class="hints-panel">
                    <h3>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</h3>
                    <div class="hints-list" id="hintsList">
                    </div>
                    <button id="hintBtn" class="btn-secondary hint-button">
                        –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É (-20 –±–∞–ª–ª–æ–≤)
                    </button>
                </div>
                
                <div class="action-panel">
                    <button id="finishGameBtn" class="btn-danger">
                        –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
                    </button>
                </div>
            </div>
        </main>

        <footer class="game-footer">
            <div class="message-area" id="messageArea">
            </div>
        </footer>
    </div>

    <div id="pauseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>‚è∏Ô∏è –ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ</h2>
            </div>
            <div class="modal-body">
                <p>–ò–≥—Ä–∞ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞</p>
            </div>
            <div class="modal-footer">
                <button id="resumeBtn" class="btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
                <button id="quitToMenuBtn" class="btn-secondary">–í—ã–π—Ç–∏ –≤ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <div id="levelCompleteModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéâ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
            </div>
            <div class="modal-body">
                <div class="result-item">
                    <span>–ë–∞–ª–ª—ã –∑–∞ —É—Ä–æ–≤–µ–Ω—å:</span>
                    <span id="levelScore">0</span>
                </div>
                <div class="result-item">
                    <span>–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤:</span>
                    <span id="correctAnswers">0</span>
                </div>
                <div class="result-item">
                    <span>–í—Ä–µ–º—è:</span>
                    <span id="levelTime">00:00</span>
                </div>
            </div>
            <div class="modal-footer">
                <button id="nextLevelBtn" class="btn-primary">–°–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å</button>
                <button id="finishGameFromModalBtn" class="btn-danger">–ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É</button>
            </div>
        </div>
    </div>

    <script src="js/storage.js"></script>
    <script src="js/elements.js"></script>
    <script src="js/formulas.js"></script>
    <script src="js/game-module.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const game = new ElectricSchemesGame();
            game.init();
        });
    </script>
</body>
</html>